<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (19) on Thu Feb 02 11:08:55 CET 2023 -->
<title>Refactor</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<meta name="dc.created" content="2023-02-02">
<meta name="description" content="declaration: package: acdp.tools, class: Refactor">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Refactor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">acdp.tools</a></div>
<h1 title="Class Refactor" class="title">Class Refactor</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">acdp.tools.Refactor</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">Refactor</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Provides methods for changing the structure of a WR database as well as
 methods for changing some fundamental table parameters which involve the
 modification of the internal format of one or more backing files.
 <p>
 The methods assume that the database is closed.
 They can be applied no matter if the database is empty or houses some
 persisted data.
 The methods change the database layout.
 <p>
 Check the <a href="Settings.html" title="class in acdp.tools"><code>Settings</code></a> class in case you miss a method.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Beat HÃ¶rmann</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Refactor.Names.html" class="type-name-link" title="interface in acdp.tools">Refactor.Names</a></code></div>
<div class="col-last even-row-color">
<div class="block">Declares methods for fluently creating a list where each element is equal
 to a column name and, provided that the column references a table, the
 name of the referenced table.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#addTable(java.nio.file.Path,java.lang.String,acdp.design.CustomTable,acdp.tools.Refactor.Names)" class="member-name-link">addTable</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 <a href="../design/CustomTable.html" title="class in acdp.design">CustomTable</a>&nbsp;table,
 <a href="Refactor.Names.html" title="interface in acdp.tools">Refactor.Names</a>&nbsp;names)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Adds the specified table to the specified WR database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static final double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#dropColumn(java.nio.file.Path,java.lang.String,java.lang.String)" class="member-name-link">dropColumn</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;columnName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Removes the specified column from the specified table.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#dropTable(java.nio.file.Path,java.lang.String)" class="member-name-link">dropTable</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Removes the specified table from the specified WR database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#insertColumn(java.nio.file.Path,acdp.design.ICipherFactory,java.lang.String,java.lang.String,acdp.Column,java.lang.String,int,java.lang.Object)" class="member-name-link">insertColumn</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="../design/ICipherFactory.html" title="interface in acdp.design">ICipherFactory</a>&nbsp;cipherFactory,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;columnName,
 <a href="../Column.html" title="interface in acdp">Column</a>&lt;?&gt;&nbsp;column,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;refdTableName,
 int&nbsp;index,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;initialValue)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Inserts the specified column into the <a href="../Table.html" title="interface in acdp">table definition</a>
 of the specified table at the position given by the <code>index</code>
 argument.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static final &lt;T&gt;&nbsp;double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#modifyColumn(java.nio.file.Path,acdp.design.ICipherFactory,java.lang.String,java.lang.String,acdp.Column,acdp.Table.ValueSwitcher)" class="member-name-link">modifyColumn</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="../design/ICipherFactory.html" title="interface in acdp.design">ICipherFactory</a>&nbsp;cipherFactory,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;columnName,
 <a href="../Column.html" title="interface in acdp">Column</a>&lt;T&gt;&nbsp;column,
 <a href="../Table.ValueSwitcher.html" title="interface in acdp">Table.ValueSwitcher</a>&lt;T&gt;&nbsp;valueSwitcher)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Modifies the specified column of the specified table by replacing that
 column with the specified new column.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static final <a href="Refactor.Names.html" title="interface in acdp.tools">Refactor.Names</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#names()" class="member-name-link">names</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates an instance of a class implementing the <a href="Refactor.Names.html" title="interface in acdp.tools"><code>Refactor.Names</code></a> interface.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#nobsOutrowPtr(java.nio.file.Path,java.lang.String,int)" class="member-name-link">nobsOutrowPtr</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 int&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Changes the value of the <code>nobsOutrowPtr</code> property of the specified
 table to the specified value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#nobsRefCount(java.nio.file.Path,java.lang.String,int)" class="member-name-link">nobsRefCount</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 int&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Changes the value of the <code>nobsRefCount</code> property of the specified
 table to the specified value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#nobsRowRef(java.nio.file.Path,java.lang.String,int)" class="member-name-link">nobsRowRef</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 int&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Changes the value of the <code>nobsRowRef</code> property of the specified
 table to the specified value.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="names()">
<h3>names</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="Refactor.Names.html" title="interface in acdp.tools">Refactor.Names</a></span>&nbsp;<span class="element-name">names</span>()</div>
<div class="block">Creates an instance of a class implementing the <a href="Refactor.Names.html" title="interface in acdp.tools"><code>Refactor.Names</code></a> interface.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The created instance, never <code>null</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addTable(java.nio.file.Path,java.lang.String,acdp.design.CustomTable,acdp.tools.Refactor.Names)">
<h3>addTable</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addTable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 <a href="../design/CustomTable.html" title="class in acdp.design">CustomTable</a>&nbsp;table,
 <a href="Refactor.Names.html" title="interface in acdp.tools">Refactor.Names</a>&nbsp;names)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a>,
<a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a>,
<a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></span></div>
<div class="block">Adds the specified table to the specified WR database.
 <p>
 The <a href="../Table.html" title="interface in acdp">table definition</a> of the newly added table is given
 by the specified <a href="../design/CustomTable.html" title="class in acdp.design">custom table</a>.
 To provide names for the columns and the referenced tables for the first,
 second, etc. column in the table definition apply method chaining like
 this:
 
 <pre>
 Refactor.names().add("c1").add("c2", "t").add("c3")</pre>
 
 where "c1", "c2" and "c3" are the desired names of the first, second and
 third column and "t" is the name of the table referenced by column "c2".
 (It is assumed that only the second column references a table.)
 <p>
 Adding a table includes adding a new table layout to the database layout.
 Moreover, if the new table references some other tables which are not yet
 referenced then the <code>nobsRefCount</code> field is added to the table
 layouts of these newly referenced tables and the tables are refactored
 accordingly.
 As described in the <a href="Setup.html" title="class in acdp.tools">Setup Tool</a>, you may
 want to review the new fields in the database layout and customize them
 to suit your personal needs.
 <p>
 Don't forget to insert the custom table in your <a href="../design/CustomDatabase.html" title="class in acdp.design">custom database</a> at the <em>end</em> of the list containing
 the custom tables.
 <p>
 This method fails if the database is not a WR database or if the database
 is currently open.
 <p>
 If the specified file does not contain a valid layout for a WR database
 then this method may throw an exception that is different from the listed
 exceptions.
 <p>
 Caveat: If this method throws an exception then there is a risk that the
 database is broken.
 You may want to <a href="../Database.html#zip(int,boolean,java.io.OutputStream)">backup the database</a> before
 executing this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>layoutFile</code> - The WR database layout file, not allowed to be <code>
         null</code>.</dd>
<dd><code>tableName</code> - The name of the table to be added to the database,
         not allowed to be <code>null</code> and not allowed to be an empty
         string and not allowed to start with the number sign ('#')
         character.
         This method fails if a table with this name already exists in the
         database.</dd>
<dd><code>table</code> - The custom table, not allowed to be <code>null</code>.</dd>
<dd><code>names</code> - The column names and the names of the referenced tables, not
         allowed to be <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the database is an RO database.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If at least one of <code>layoutFile</code>,
         <code>table</code>, and <code>names</code> is <code>null</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If <code>tableName</code> is null or an empty
         string or starts with the number sign character ('#') or if a
         table with this name already exists in the database or if the
         table definition of the specified custom table is <code>null</code> or
         if <code>names</code> is <code>null</code> or returns an empty list or
         contains a name of a referenced table that is not equal to the
         <code>tableName</code> argument and that is not the name of a table in
         the database or if the table definition and the list of names do
         not correspond to each other.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a></code> - If the WR database is currently open.</dd>
<dd><code><a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a></code> - If the database can't be opened due to any other
         reason.</dd>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If the layout file does not exist or if one of
         the backing files of the new table already exists or if another
         I/O error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="dropTable(java.nio.file.Path,java.lang.String)">
<h3>dropTable</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">dropTable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a>,
<a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a>,
<a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></span></div>
<div class="block">Removes the specified table from the specified WR database.
 <p>
 Removing a table includes removing the table layout of the table from the
 database layout.
 Moreover, if the table references some other tables and no other tables
 reference these tables then the <code>nobsRefCount</code> field is removed
 from the table layouts of these tables and the tables are refactored
 accordingly.
 <p>
 Don't forget to remove the corresponding <a href="../design/CustomTable.html" title="class in acdp.design">custom
 table</a> from your <a href="../design/CustomDatabase.html" title="class in acdp.design">custom database</a>.
 <p>
 This method fails if the specified table is the only table in the database
 or if the table is referenced by another table or if the database is not
 a WR database or if the database is currently open.
 <p>
 If the specified file does not contain a valid layout for a WR database
 then this method may throw an exception that is different from the listed
 exceptions.
 <p>
 Caveat: If this method throws an exception then there is a risk that the
 database is broken.
 You may want to <a href="../Database.html#zip(int,boolean,java.io.OutputStream)">backup the database</a> before
 executing this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>layoutFile</code> - The WR database layout file, not allowed to be <code>
         null</code>.</dd>
<dd><code>tableName</code> - The name of the table to be dropped from the database,
         not allowed to be <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the database is an RO database.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If <code>layoutFile</code> is <code>null</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If <code>tableName</code> is <code>null</code> or
         if the database has no table with this name or if this table is
         the only table in the database or if there exists another table
         that references this table.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a></code> - If the WR database is currently open.</dd>
<dd><code><a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a></code> - If the database can't be opened due to any other
         reason.</dd>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If the layout file does not exist or if another
         I/O error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="insertColumn(java.nio.file.Path,acdp.design.ICipherFactory,java.lang.String,java.lang.String,acdp.Column,java.lang.String,int,java.lang.Object)">
<h3>insertColumn</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">insertColumn</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="../design/ICipherFactory.html" title="interface in acdp.design">ICipherFactory</a>&nbsp;cipherFactory,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;columnName,
 <a href="../Column.html" title="interface in acdp">Column</a>&lt;?&gt;&nbsp;column,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;refdTableName,
 int&nbsp;index,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;initialValue)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="../exceptions/MaximumException.html" title="class in acdp.exceptions">MaximumException</a>,
<a href="../exceptions/CryptoException.html" title="class in acdp.exceptions">CryptoException</a>,
<a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a>,
<a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a>,
<a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></span></div>
<div class="block">Inserts the specified column into the <a href="../Table.html" title="interface in acdp">table definition</a>
 of the specified table at the position given by the <code>index</code>
 argument.
 The new column will have an index equal to the value of <code>index</code>
 while columns with an index greater than or equal to the value of <code>
 index</code> will have their index incremented by one.
 <p>
 Inserting a new column includes inserting a new column layout into the
 table layout.
 Moreover, if the column is a column storing its values in the VL file
 space and no other column of the table stores its values in the VL file
 space yet then this method creates the VL data file and adds the fields
 <code>vlDataFile</code> and <code>nobsOutrowPtr</code> to the layout of the table.
 Furthermore, if the column references a table that is not yet referenced,
 then the <code>nobsRefCount</code> field is added to the layout of the newly
 referenced table and the table is refactored accordingly.
 As described in the <a href="Setup.html" title="class in acdp.tools">Setup Tool</a>, you may
 want to review these new fields in the database layout and customize them
 to suit your personal needs.
 (Use the <a href="#nobsOutrowPtr(java.nio.file.Path,java.lang.String,int)"><code>nobsOutrowPtr(java.nio.file.Path, java.lang.String, int)</code></a> and <a href="#nobsRefCount(java.nio.file.Path,java.lang.String,int)"><code>nobsRefCount(java.nio.file.Path, java.lang.String, int)</code></a> methods if you
 want to reduce the values of the <code>nobsOutrowPtr</code> and <code>
 nobsRefCount</code> fields, respectively.)
 <p>
 Don't forget to create and insert the new column within your corresponding
 <a href="../design/CustomTable.html" title="class in acdp.design">custom table</a>.
 <p>
 This method fails if the database is not a WR database or if the database
 is currently open.
 <p>
 If the specified file does not contain a valid layout for a WR database
 then this method may throw an exception that is different from the listed
 exceptions.
 <p>
 Caveat: If this method throws an exception then there is a risk that the
 database is broken.
 You may want to <a href="../Database.html#zip(int,boolean,java.io.OutputStream)">backup the database</a> before
 executing this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>layoutFile</code> - The WR database layout file, not allowed to be <code>
         null</code>.</dd>
<dd><code>cipherFactory</code> - The cipher factory or <code>null</code> if no encryption
         is required.</dd>
<dd><code>tableName</code> - The name of the table, not allowed to be <code>null</code>.</dd>
<dd><code>columnName</code> - The name of the column to be inserted into the table,
         not allowed to be <code>null</code>.</dd>
<dd><code>column</code> - The column to be inserted, not allowed to be <code>null</code>.</dd>
<dd><code>refdTableName</code> - The name of the referenced table.
         This value is not allowed to be <code>null</code> if the column is
         a reference column.
         (A reference column is a column with a type equal to <a href="../types/RefType.html" title="interface in acdp.types"><code>RefType</code></a> or <a href="../types/ArrayOfRefType.html" title="interface in acdp.types"><code>ArrayOfRefType</code></a>.)
         This value is ignored if the column is not a reference column.</dd>
<dd><code>index</code> - The index within the table definition where the column is
         to be inserted, must satisfy 0 &le; <code>index</code> &le; <code>n</code>,
         where <code>n</code> denotes the number of columns in the table.</dd>
<dd><code>initialValue</code> - The initial value.
         Existing rows of the table are filled with this value in the new
         column.
         If the new column is a reference column then this value must be
         <code>null</code>.
         Otherwise, this value must be <a href="../types/Type.html#isCompatible(java.lang.Object)">compatible</a> with the type of the
         new column.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the database is an RO database.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If <code>layoutFile</code> or <code>column</code> is
         <code>null</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the database has no table equal to
         <code>tableName</code> or if <code>columnName</code> is <code>null</code> or an
         empty string or if the table already has a column with such a
         name.
         This exception also happens if the insertion index is negative
         or greater than the number of columns in the table or if the
         column to be inserted is a reference column but the database has
         no table equal to the <code>refdTableName</code> argument or the
         column to be inserted is a reference column but the initial value
         is not <code>null</code> or if the initial value is not compatible
         with the type of the column to be inserted.
         The exception also happens if the length of the byte
         representation of the initial value (or one of the elements if
         the initial value is an array value) exceeds the maximum length
         allowed by the <a href="../design/SimpleType.html" title="class in acdp.design">simple
         column type</a>.</dd>
<dd><code><a href="../exceptions/MaximumException.html" title="class in acdp.exceptions">MaximumException</a></code> - If a new memory block in the VL file space must
         be allocated and its file position exceeds the maximum allowed
         position</dd>
<dd><code><a href="../exceptions/CryptoException.html" title="class in acdp.exceptions">CryptoException</a></code> - If encryption fails.
         This exception never happens if the database does not apply
         encryption.</dd>
<dd><code><a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a></code> - If the Null-info must be
         expanded by a single bit but the bitmap is too large for being
         expanded or if the new size of the FL data blocks exceeds <code>
         Integer.MAX_VALUE</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a></code> - If the WR database is currently open.</dd>
<dd><code><a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a></code> - If the database can't be opened due to any other
         reason.</dd>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If an I/O error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="dropColumn(java.nio.file.Path,java.lang.String,java.lang.String)">
<h3>dropColumn</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">dropColumn</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;columnName)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a>,
<a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a>,
<a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></span></div>
<div class="block">Removes the specified column from the specified table.
 <p>
 Removing a column includes removing the column layout of the column from
 the table layout.
 Moreover, if the column is a column storing its values in the VL file
 space and no other column of the table stores its values in the VL file
 space then this method deletes the VL data file and removes the fields
 <code>vlDataFile</code> and <code>nobsOutrowPtr</code> from the layout of the table.
 Furthermore, if the column references a table and no other column of any
 table references that table then the <code>nobsRefCount</code> field is removed
 from the layout of that table and the table is refactored accordingly.
 <p>
 Don't forget to remove the column from your corresponding <a href="../design/CustomTable.html" title="class in acdp.design">custom table</a>.
 <p>
 This method fails if the specified clolumn is the only column of the
 table or if the database is not a WR database or if the database is
 currently open.
 <p>
 If the specified file does not contain a valid layout for a WR database
 then this method may throw an exception that is different from the listed
 exceptions.
 <p>
 Caveat: If this method throws an exception then there is a risk that the
 database is broken.
 You may want to <a href="../Database.html#zip(int,boolean,java.io.OutputStream)">backup the database</a> before
 executing this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>layoutFile</code> - The WR database layout file, not allowed to be <code>
         null</code>.</dd>
<dd><code>tableName</code> - The name of the table, not allowed to be <code>null</code>.</dd>
<dd><code>columnName</code> - The name of the column to be dropped from the table,
         not allowed to be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>The size of the <a href="../Information.WRStoreInfo.html#vlUnused()">unused VL file
         space</a> in relation to its total size.
         For instance, a value equal to 0.9 means that 9 out of 10 bytes
         of the VL file space are unused.
         If there is no unused VL file space then this method returns 0.
         If the VL file space was removed by this method or if this store
         never had a VL file space than this method returns -1.0.
         The returned value may be used to decide whether it is appropriate
         to <a href="../Table.html#compactVL()">compact the VL file space</a> or
         not.
         (Removing a VL column may significantly increase the amount of
         unused VL file space.)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the database is an RO database.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If <code>layoutFile</code> is <code>null</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the database has no table equal to
         <code>tableName</code> or if the table has no column equal to <code>
         columnName</code> or if the specified column is the only column of the
         table.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a></code> - If the WR database is currently open.</dd>
<dd><code><a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a></code> - If the database can't be opened due to any other
         reason.</dd>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If an I/O error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="modifyColumn(java.nio.file.Path,acdp.design.ICipherFactory,java.lang.String,java.lang.String,acdp.Column,acdp.Table.ValueSwitcher)">
<h3>modifyColumn</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">modifyColumn</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="../design/ICipherFactory.html" title="interface in acdp.design">ICipherFactory</a>&nbsp;cipherFactory,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;columnName,
 <a href="../Column.html" title="interface in acdp">Column</a>&lt;T&gt;&nbsp;column,
 <a href="../Table.ValueSwitcher.html" title="interface in acdp">Table.ValueSwitcher</a>&lt;T&gt;&nbsp;valueSwitcher)</span>
                                     throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="../exceptions/MaximumException.html" title="class in acdp.exceptions">MaximumException</a>,
<a href="../exceptions/CryptoException.html" title="class in acdp.exceptions">CryptoException</a>,
<a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a>,
<a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a>,
<a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></span></div>
<div class="block">Modifies the specified column of the specified table by replacing that
 column with the specified new column.
 <p>
 All kinds of modifications are allowed with the following two exceptions:
 
 <ul>
    <li>Changing the name of a column.
        To change the name of a column just change the database layout
        accordingly or invoke the <a href="Settings.html#setColumnName(java.lang.String,java.lang.String,java.lang.String)"><code>Settings.setColumnName(java.lang.String, java.lang.String, java.lang.String)</code></a>
        method.</li>
    <li>Modifying a column of type <a href="../types/RefType.html" title="interface in acdp.types"><code>RefType</code></a> or
        changing a column to a <code>RefType</code> column is not supported.
        Similar, changing a column to a <a href="../types/ArrayOfRefType.html" title="interface in acdp.types"><code>ArrayOfRefType</code></a> column is not supported,
        however changing the storage scheme and the maximum size of an
        <code>ArrayOfRefType</code> column is supported.
        Use the <a href="#dropColumn(java.nio.file.Path,java.lang.String,java.lang.String)"><code>dropColumn(java.nio.file.Path, java.lang.String, java.lang.String)</code></a> and <a href="#insertColumn(java.nio.file.Path,acdp.design.ICipherFactory,java.lang.String,java.lang.String,acdp.Column,java.lang.String,int,java.lang.Object)"><code>insertColumn(java.nio.file.Path, acdp.design.ICipherFactory, java.lang.String, java.lang.String, acdp.Column&lt;?&gt;, java.lang.String, int, java.lang.Object)</code></a> methods if
        your use case is not supported.</li>
 </ul>
 <p>
 Modifying the <a href="../design/SimpleType.html#valueType()">value type</a> of a column
 type, be it the value type of a <a href="../design/SimpleType.html" title="class in acdp.design"><code>SimpleType</code></a> or the value type of
 the component type of an <a href="../types/ArrayType.html" title="interface in acdp.types"><code>ArrayType</code></a>, requires
 that the user provides a <a href="../Table.ValueSwitcher.html" title="interface in acdp">value switcher</a> which
 converts the stored values into new values that must be <a href="../types/Type.html#isCompatible(java.lang.Object)">compatible</a> with the new value type.
 (If the value switcher returns a value that is not compatible with the new
 value type then this method throws an exception, however, this may be an
 exception of a type not listed below.)
 If the value type remains unchanged then the <code>valueSwitcher</code>
 argument may be equal to <code>null</code> which means that the values remain
 unchanged (identity conversion).
 This method may be invoked in such a way that the column type remains
 unchanged. 
 If a value switcher is specified at the same time, this method internally
 executes the <a href="../Table.html#updateAllChangeValues(acdp.Column,acdp.Table.ValueChanger)"><code>Table.updateAllChangeValues(acdp.Column&lt;T&gt;, acdp.Table.ValueChanger&lt;T&gt;)</code></a> method, otherwise the
 <code>valueSwitcher</code> argument is equal to <code>null</code> and this method
 does nothing.
 <p>
 Modifying a column includes changing the column layout of the column to be
 modified.
 Moreover, if the column replacing the column to be modified is a column
 storing its values in the VL file space and no column of the table stores
 its values in the VL file space yet then this method creates the VL data
 file and adds the fields <code>vlDataFile</code> and <code>nobsOutrowPtr</code> to
 the layout of the table.
 As described in the <a href="Setup.html" title="class in acdp.tools">Setup Tool</a>, you may
 want to review these new fields in the database layout and customize them
 to suit your personal needs.
 (Use the <a href="#nobsOutrowPtr(java.nio.file.Path,java.lang.String,int)"><code>nobsOutrowPtr(java.nio.file.Path, java.lang.String, int)</code></a> method if you want to reduce the value of
 the <code>nobsOutrowPtr</code> field.)
 Conversely, if the column to be modified is a column storing its values
 in the VL file space and no other column of the table stores its values
 in the VL file space and the column replacing the column to be modified
 stores its values in the FL file space then this method deletes the VL
 data file and removes the <code>vlDataFile</code> and <code>nobsOutrowPtr</code>
 fields from the layout of the table.
 <p>
 Don't forget to modify the column accordingly within your corresponding
 <a href="../design/CustomTable.html" title="class in acdp.design">custom table</a>.
 <p>
 This method fails if the database is not a WR database or if the database
 is currently open.
 <p>
 If the specified file does not contain a valid layout for a WR database
 then this method may throw an exception that is different from the listed
 exceptions.
 <p>
 Caveat: If this method throws an exception then there is a risk that the
 database is broken.
 You may want to <a href="../Database.html#zip(int,boolean,java.io.OutputStream)">backup the database</a> before
 executing this method.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The value type of the new column.</dd>
<dt>Parameters:</dt>
<dd><code>layoutFile</code> - The WR database layout file, not allowed to be <code>
         null</code>.</dd>
<dd><code>cipherFactory</code> - The cipher factory or <code>null</code> if no encryption
         is required.</dd>
<dd><code>tableName</code> - The name of the table, not allowed to be <code>null</code>.</dd>
<dd><code>columnName</code> - The name of the column to be modified, not allowed to
         be <code>null</code>.</dd>
<dd><code>column</code> - The column replacing the column to be modified, not allowed
         to be <code>null</code>.</dd>
<dd><code>valueSwitcher</code> - The value switcher, may be <code>null</code> in some
         cases.
         This value is ignored if the table is an empty table or if the
         type of the column replacing the column to be modified is an array
         of references.</dd>
<dt>Returns:</dt>
<dd>The size of the <a href="../Information.WRStoreInfo.html#vlUnused()">unused VL file
         space</a> in relation to its total size.
         For instance, a value equal to 0.9 means that 9 out of 10 bytes
         of the VL file space are unused.
         If there is no unused VL file space then this method returns 0.
         If the VL file space was removed by this method or if this store
         never had a VL file space than this method returns -1.0.
         The returned value may be used to decide whether it is appropriate
         to <a href="../Table.html#compactVL()">compact the VL file space</a> or
         not.
         (Modifying a VL column may significantly increase the amount of
         unused VL file space.)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the database is an RO database
         or if the modification requires an unsupported modification
         involving reference columns.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If one of the arguments not allowed to be
         <code>null</code> is <code>null</code> or if a value of a simple column
         type is set equal to <code>null</code> but the column type forbids the
         <code>null</code> value or if the value is an array value and this
         condition is satisfied for at least one element contained in the
         array.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the database has no table equal to
         <code>tableName</code> or if the table has no column equal to <code>
         columnName</code> or if <code>valueSwitcher</code> is <code>null</code> but is
         not allowed to be <code>null</code> in combination with the other
         arguments.
         This exception also happens if the length of the byte
         representation of a value (or one of the elements if the value is
         an array value) exceeds the maximum length allowed by the
         <a href="../design/SimpleType.html" title="class in acdp.design">simple column type</a>.
         Furthermore, this exception happens if the value is an array
         value and the size of the array exceeds the maximum length
         allowed by the array column type.</dd>
<dd><code><a href="../exceptions/MaximumException.html" title="class in acdp.exceptions">MaximumException</a></code> - If a new memory block in the VL file space must
         be allocated and its file position exceeds the maximum allowed
         position.</dd>
<dd><code><a href="../exceptions/CryptoException.html" title="class in acdp.exceptions">CryptoException</a></code> - If encryption or decryption fails.
         This exception never happens if the WR database does not apply
         encryption or if the column type is an array of references.</dd>
<dd><code><a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a></code> - If the Null-info must be
         expanded by a single bit but the bitmap is too large for being
         expanded <em>or</em> if the byte representation stored in the VL
         file space is too large to fit into the inrow column section
         <em>or</em> if the number of bytes needed to persist a value of
         an array type exceeds Java's maximum array size <em>or</em>,
         provided that this method invokes the <a href="../Table.html#updateAllChangeValues(acdp.Column,acdp.Table.ValueChanger)"><code>Table.updateAllChangeValues(acdp.Column&lt;T&gt;, acdp.Table.ValueChanger&lt;T&gt;)</code></a> method, it turns out that the number
         of row gaps in the table is greater than <code>Integer.MAX_VALUE</code>
         <em>or</em> if the new size of the FL data blocks exceeds <code>
         Integer.MAX_VALUE</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a></code> - If the WR database is currently open.</dd>
<dd><code><a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a></code> - If the database can't be opened due to any other
         reason.</dd>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If an I/O error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nobsRowRef(java.nio.file.Path,java.lang.String,int)">
<h3>nobsRowRef</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">nobsRowRef</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 int&nbsp;value)</span>
                             throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="../exceptions/MaximumException.html" title="class in acdp.exceptions">MaximumException</a>,
<a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a>,
<a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a>,
<a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></span></div>
<div class="block">Changes the value of the <code>nobsRowRef</code> property of the specified
 table to the specified value.
 (See the section "Explanation of the <code>nobsRowRef</code>, <code>
 nobsOutrowPtr</code> and <code>nobsRefCount</code> Settings" in the description of
 the <a href="Setup.html" title="class in acdp.tools">Setup Tool</a> to learn about this
 property.)
 <p>
 The amount of unused VL file space may significantly increase in tables
 with columns that have an outrow storage scheme and store values being
 array of references to rows of the specified table.
 (For a particular table <code>t</code> of a WR database you can get the amount
 of unused VL file space by executing <a href="../Information.WRStoreInfo.html#vlUnused()"><code>((WRStoreInfo)
 t.info()).storeInfo()).vlUnused()</code></a>.)
 <p>
 This method fails if the database is not a WR database or if the database
 is currently open.
 <p>
 If the specified file does not contain a valid layout for a WR database
 then this method may throw an exception that is different from the listed
 exceptions.
 <p>
 Caveat: If this method throws an exception then there is a risk that the
 database is broken.
 You may want to <a href="../Database.html#zip(int,boolean,java.io.OutputStream)">backup the database</a> before
 executing this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>layoutFile</code> - The WR database layout file, not allowed to be <code>
         null</code>.</dd>
<dd><code>tableName</code> - The name of the table, not allowed to be <code>null</code>.</dd>
<dd><code>value</code> - The new value of the <code>nobsRowRef</code> table property,
         must be greater than or equal to 1 and less than or equal to 8.
         The new value is allowed to be equal to the current value.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the database is an RO database.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If <code>layoutFile</code> or <code>tableName</code>
         is <code>null</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the database has no table equal to
         <code>tableName</code> or if the specified value is less than 1 or
         greater than 8 or if the specified value is too small with respect
         to the number of rows and row gaps in the table.</dd>
<dd><code><a href="../exceptions/MaximumException.html" title="class in acdp.exceptions">MaximumException</a></code> - If a new memory block in the VL file space
         must be allocated and its file position exceeds the maximum
         allowed position.</dd>
<dd><code><a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a></code> - If the number of bytes needed
         to persist an array of references in an inrow column exceeds
         Java's maximum array size.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a></code> - If the WR database is currently open.</dd>
<dd><code><a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a></code> - If the database can't be opened due to any other
         reason.</dd>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If an I/O error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nobsOutrowPtr(java.nio.file.Path,java.lang.String,int)">
<h3>nobsOutrowPtr</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">nobsOutrowPtr</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 int&nbsp;value)</span>
                                throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a>,
<a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a>,
<a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></span></div>
<div class="block">Changes the value of the <code>nobsOutrowPtr</code> property of the specified
 table to the specified value.
 (See the section "Explanation of the <code>nobsRowRef</code>, <code>
 nobsOutrowPtr</code> and <code>nobsRefCount</code> Setinngs" in the description of
 the <a href="Setup.html" title="class in acdp.tools">Setup Tool</a> to learn about this
 property.)
 <p>
 This method fails if the database is not a WR database or if the database
 is currently open.
 <p>
 If the specified file does not contain a valid layout for a WR database
 then this method may throw an exception that is different from the listed
 exceptions.
 <p>
 Caveat: If this method throws an exception then there is a risk that the
 database is broken.
 You may want to <a href="../Database.html#zip(int,boolean,java.io.OutputStream)">backup the database</a> before
 executing this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>layoutFile</code> - The WR database layout file, not allowed to be <code>
         null</code>.</dd>
<dd><code>tableName</code> - The name of the table, not allowed to be <code>null</code>.</dd>
<dd><code>value</code> - The new value of the <code>nobsOutrowPtr</code> table property,
         must be greater than or equal to 1 and less than or equal to 8.
         The new value is allowed to be equal to the current value.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the database is an RO database.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If <code>layoutFile</code> or <code>tableName</code>
         is <code>null</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the database has no table equal to
         <code>tableName</code> or if the table has no VL file space or if
         the specified value is less than 1 or greater than 8 or if the
         specified value is too small with respect to the size of the VL
         file space.</dd>
<dd><code><a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a></code> - If the new size of the FL data
         blocks exceeds <code>Integer.MAX_VALUE</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a></code> - If the WR database is currently open.</dd>
<dd><code><a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a></code> - If the database can't be opened due to any other
         reason.</dd>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If an I/O error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nobsRefCount(java.nio.file.Path,java.lang.String,int)">
<h3>nobsRefCount</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">nobsRefCount</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;layoutFile,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableName,
 int&nbsp;value)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a>,
<a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a>,
<a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></span></div>
<div class="block">Changes the value of the <code>nobsRefCount</code> property of the specified
 table to the specified value.
 (See the section "Explanation of the <code>nobsRowRef</code>, <code>
 nobsOutrowPtr</code> and <code>nobsRefCount</code> Settings" in the description of
 the <a href="Setup.html" title="class in acdp.tools">Setup Tool</a> to learn about this
 property.)
 <p>
 This method fails if the database is not a WR database or if the database
 is currently open.
 <p>
 If the specified file does not contain a valid layout for a WR database
 then this method may throw an exception that is different from the listed
 exceptions.
 <p>
 Caveat: If this method throws an exception then there is a risk that the
 database is broken.
 You may want to <a href="../Database.html#zip(int,boolean,java.io.OutputStream)">backup the database</a> before
 executing this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>layoutFile</code> - The WR database layout file, not allowed to be <code>
         null</code>.</dd>
<dd><code>tableName</code> - The name of the table, not allowed to be <code>null</code>.</dd>
<dd><code>value</code> - The new value of the <code>nobsRefCount</code> table property,
         must be greater than or equal to 1 and less than or equal to 8..
         The new value is allowed to be equal to the current value.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the database is an RO database.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If <code>layoutFile</code> or <code>tableName</code>
         is <code>null</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the database has no table equal to
         <code>tableName</code> or if the table is not referenced by any table
         of the database or if the specified value is less than 1 or
         greater than 8 or if the specified value is too small with
         respect to the row having the highest value of the reference
         counter.</dd>
<dd><code><a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a></code> - If the new size of the FL data
         blocks exceeds <code>Integer.MAX_VALUE</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a></code> - If the WR database is currently open.</dd>
<dd><code><a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a></code> - If the database can't be opened due to any other
         reason.</dd>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If an I/O error occurs.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
