<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (19) on Thu Mar 06 10:18:20 CET 2025 -->
<title>CustomDatabase</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<meta name="dc.created" content="2025-03-06">
<meta name="description" content="declaration: package: acdp.design, class: CustomDatabase">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CustomDatabase.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">acdp.design</a></div>
<h1 title="Class CustomDatabase" class="title">Class CustomDatabase</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">acdp.design.CustomDatabase</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">CustomDatabase</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span></div>
<div class="block">Defines the super class of a <em>custom database class</em>.
 (See the section "Weakly and Strongly Typed" in the description of the
 <a href="../Database.html" title="interface in acdp"><code>Database</code></a> interface to learn about the motivation of a custom
 database class.)
 <p>
 At a minimum, a concrete custom database class declares for each table a
 variable (typically with the <code>final</code> modifier) referencing that table,
 for example,
 
 <pre>
 final MyTable myTable = new MyTable();</pre>
 
 where <code>MyTable</code> denotes a concrete subclass of the <a href="CustomTable.html" title="class in acdp.design"><code>CustomTable</code></a>
 class.
 The table variable can be declared as a class variable, hence, with a <code>
 static</code> modifier unless the table class is reused in this custom database
 <em>or</em> the table class is reused in another custom database and that
 custom database is opened at a time this database is open.
 <p>
 If you plan to use the <a href="../tools/Setup.html" title="class in acdp.tools">Setup Tool</a> for creating the
 database layout and all backing files of the database then make sure that
 your custom database class is annotated with the 
 <a href="../tools/Setup.SetupDatabase.html" title="annotation in acdp.tools"><code>@SetupDatabase</code></a> annotation and that all of your
 table declarations are annotated with the
 <a href="../tools/Setup.SetupTableDeclaration.html" title="annotation in acdp.tools"><code>@SetupTableDeclaration</code></a> annotation, for
 example,
 <pre>
 @SetupDatabase(
    name = "My Database",
    tables = { "My Table", "Your Table" }
 )
 class MyDB extends CustomDatabase {
    @SetupTableDeclaration("My Table")
    final MyTable myTable = new MyTable();
    @SetupTableDeclaration("Your Table")
    final YourTable yourTable = new YourTable();
 
    MyDB(...) {
       open(..., myTable, yourTable);
    }
 }</pre>
 <p>
 Since an ACDP database must finally be closed, you may want to apply the
 <em>try-with-resources</em> statement like this (<code>MyDB</code> denotes a
 subclass of the <code>CustomDatabase</code> class):
 
 <pre>
 try (MyDB db = new MyDB(...)) {
    MyTable myTable = db.myTable;  // or MyDB.MY_TABLE if MY_TABLE is declared
                                   // as a final class variable.
    <em>do something with</em> myTable
 }</pre>
 
 This code snippet also shows how to access a particular table (here the
 "My Table") from a <em>strongly typed</em> custom database.
 Compare this to the corresponding code snippet in the <a href="../Database.html" title="interface in acdp"><code>Database</code></a> class
 description.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Beat HÃ¶rmann</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">CustomDatabase</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs but does not <a href="#open(java.nio.file.Path,int,boolean,acdp.design.ICipherFactory,int,acdp.design.CustomTable...)">open</a> the database.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Closes this database and releases any system resources associated with
 it.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createRO(java.nio.file.Path,acdp.design.ICipherFactory)" class="member-name-link">createRO</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;roDbFilePath,
 <a href="ICipherFactory.html" title="interface in acdp.design">ICipherFactory</a>&nbsp;cipherFactory)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">See <a href="../Database.html#createRO(java.nio.file.Path,acdp.design.ICipherFactory)">Database.createRO(Path, ICipherFactory)</a></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#customClose()" class="member-name-link">customClose</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is invoked by the <a href="#close()"><code>close()</code></a> method immediately before
 the database is closed, provided that the database is <a href="#open(java.nio.file.Path,int,boolean,acdp.design.ICipherFactory,int,acdp.design.CustomTable...)">open</a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#forceWrite()" class="member-name-link">forceWrite</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">See <a href="../Database.html#forceWrite()">Database.forceWrite()</a></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="CustomTable.html" title="class in acdp.design">CustomTable</a>[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTables()" class="member-name-link">getTables</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns all tables of this database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="../Information.DatabaseInfo.html" title="interface in acdp">Information.DatabaseInfo</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#info()" class="member-name-link">info</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">See <a href="../Database.html#info()">Database.info()</a></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isOpen()" class="member-name-link">isOpen</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the information whether the database is open or closed.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#name()" class="member-name-link">name</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">See <a href="../Database.html#name()">Database.name()</a></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#open(java.nio.file.Path,int,boolean,acdp.design.ICipherFactory,int,acdp.design.CustomTable...)" class="member-name-link">open</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;mainFile,
 int&nbsp;opMode,
 boolean&nbsp;writeProtect,
 <a href="ICipherFactory.html" title="interface in acdp.design">ICipherFactory</a>&nbsp;cipherFactory,
 int&nbsp;consistencyNumber,
 <a href="CustomTable.html" title="class in acdp.design">CustomTable</a>...&nbsp;customTables)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Opens the database as a <em>strongly typed</em> database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="../ReadZone.html" title="interface in acdp">ReadZone</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#openReadZone()" class="member-name-link">openReadZone</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">See <a href="../Database.html#openReadZone()">Database.openReadZone()</a></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="../Unit.html" title="interface in acdp">Unit</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#openUnit()" class="member-name-link">openUnit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">See <a href="../Database.html#openUnit()">Database.openUnit()</a></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">See <a href="../Database.html#toString()">Database.toString()</a></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#zip(int,boolean,java.io.OutputStream)" class="member-name-link">zip</a><wbr>(int&nbsp;level,
 boolean&nbsp;home,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a>&nbsp;out)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">See <a href="../Database.html#zip(int,boolean,java.io.OutputStream)">Database.zip(int, boolean, OutputStream)</a></div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>CustomDatabase</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">CustomDatabase</span>()</div>
<div class="block">Constructs but does not <a href="#open(java.nio.file.Path,int,boolean,acdp.design.ICipherFactory,int,acdp.design.CustomTable...)">open</a> the database.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="isOpen()">
<h3>isOpen</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isOpen</span>()</div>
<div class="block">Returns the information whether the database is open or closed.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The boolean value <code>true</code> if and only if the database is
         open.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="open(java.nio.file.Path,int,boolean,acdp.design.ICipherFactory,int,acdp.design.CustomTable...)">
<h3>open</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">open</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;mainFile,
 int&nbsp;opMode,
 boolean&nbsp;writeProtect,
 <a href="ICipherFactory.html" title="interface in acdp.design">ICipherFactory</a>&nbsp;cipherFactory,
 int&nbsp;consistencyNumber,
 <a href="CustomTable.html" title="class in acdp.design">CustomTable</a>...&nbsp;customTables)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="../exceptions/ConsistencyException.html" title="class in acdp.exceptions">ConsistencyException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/InvalidPathException.html" title="class or interface in java.nio.file" class="external-link">InvalidPathException</a>,
<a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a>,
<a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">Opens the database as a <em>strongly typed</em> database.
 <p>
 As long as the database is empty, or as soon as it is empty again, the
 type of encryption can be defined (or redefined) with the <code>
 cipherFactory</code> argument.
 <p>
 The order of the custom tables in the specified array of custom tables
 must be the same as the order in which the corresponding table layouts
 appear in the database layout.
 <p>
 The database can only be opened once.
 This method throws an <code>IllegalStateException</code> if the database is
 opened again, regardless of whether the database is currently open or
 closed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>mainFile</code> - The main database file, not allowed to be <code>null</code>.
         If the database is a WR database then the main file is identical
         to the layout file.
         Otherwise, the database is an RO database and the main file is
         identical to the one and only one RO database file.</dd>
<dd><code>opMode</code> - The operating mode of the database.
         If the value is equal to zero then the backing table files are
         immediately closed as soon as they become idle.
         If the value is positive and equal to <code>n</code> then the backing
         table files are closed <code>max(10, n)</code> milliseconds after they
         become idle or when the database is closed.
         If the value is equal to -1 then the backing table files once
         opened remain open until the database is closed.
         If the value is equal to -2 then the compressed content of an RO
         database is completely mapped into memory.
         If the value is equal to -3 then the <em>un</em>compressed
         content of an RO database is completely mapped into memory.
         A value equal to zero is recommended only if the database is a
         WR database and the operating system can't sustain a bunch of
         files all being opened at the same time.
         In a server environment a positive value is recommended or,
         provided that the database is an RO database and there is enough
         memory available, a value equal to -2 (less memory required, less
         fast) or -3 (more memory required, faster).
         Note that a value equal to -2 or equal to -3 raises an <code>
         IllegalArgumentException</code> if the database is a WR database.</dd>
<dd><code>writeProtect</code> - Protects the database from being written.
         If set to <code>true</code> then no data can be modified in any of the
         database's tables.
         Note that this parameter has no effect if the database is an RO
         database.
         A read-only database needs less system resources than a writable
         database.</dd>
<dd><code>cipherFactory</code> - The <a href="ICipherFactory.html" title="interface in acdp.design">cipher factory</a> or
         <code>null</code> if no encryption is required.</dd>
<dd><code>consistencyNumber</code> - The consistency number of the database.
         This value must be equal to the corresponding value saved in the
         database layout.
         If this is not the case then this method throws a <code>
         ConsistencyException</code>.</dd>
<dd><code>customTables</code> - The array of custom tables, not allowed to be <code>
         null</code> and not allowed to be empty.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If <code>mainFile</code> or <code>customTables</code>
         is <code>null</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If <code>opMode</code> is less than -3 or if
         <code>opMode</code> is equal to -2 or -3 and the database is a WR
         database.</dd>
<dd><code><a href="../exceptions/ConsistencyException.html" title="class in acdp.exceptions">ConsistencyException</a></code> - If the logic of the database is inconsistent
         with its data.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/InvalidPathException.html" title="class or interface in java.nio.file" class="external-link">InvalidPathException</a></code> - If the database layout contains an invalid
         file path.
         This exception never happens if the database is an RO database.</dd>
<dd><code><a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a></code> - If a table has too many
         columns needing a separate null information.
         This exception never happens if the database is an RO database.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/OverlappingFileLockException.html" title="class or interface in java.nio.channels" class="external-link">OverlappingFileLockException</a></code> - If the database was already opened
         before in this process (Java virtual machine) or in another
         process that holds a lock which cannot co-exist with the lock to
         be acquired.
         This exception never happens if the database is an RO database.</dd>
<dd><code><a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a></code> - If the database can't be created due to any
         other reason including problems with the database layout, problems
         with any of the tables' sublayouts, problems regarding encryption,
         problems with the array of custom tables and problems with the
         backing files of the database.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the database was opened before.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="name()">
<h3>name</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">name</span>()
                  throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">See <a href="../Database.html#name()">Database.name()</a></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The name of the database, never <code>null</code> and never an empty
         string.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the database was never opened.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="info()">
<h3>info</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="../Information.DatabaseInfo.html" title="interface in acdp">Information.DatabaseInfo</a></span>&nbsp;<span class="element-name">info</span>()
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">See <a href="../Database.html#info()">Database.info()</a></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The information object of the database, never <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the database is closed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTables()">
<h3>getTables</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="CustomTable.html" title="class in acdp.design">CustomTable</a>[]</span>&nbsp;<span class="element-name">getTables</span>()
                              throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">Returns all tables of this database.
 <p>
 The order in which the tables appear in the returned array is equal to
 the order in which the tables appear in the database layout.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The tables of this database, never <code>null</code> and never empty.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the database is closed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="openUnit()">
<h3>openUnit</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="../Unit.html" title="interface in acdp">Unit</a></span>&nbsp;<span class="element-name">openUnit</span>()
                    throws <span class="exceptions"><a href="../exceptions/UnitBrokenException.html" title="class in acdp.exceptions">UnitBrokenException</a>,
<a href="../exceptions/ShutdownException.html" title="class in acdp.exceptions">ShutdownException</a>,
<a href="../exceptions/ACDPException.html" title="class in acdp.exceptions">ACDPException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">See <a href="../Database.html#openUnit()">Database.openUnit()</a></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The unit, never <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/UnitBrokenException.html" title="class in acdp.exceptions">UnitBrokenException</a></code> - If the unit is broken.</dd>
<dd><code><a href="../exceptions/ShutdownException.html" title="class in acdp.exceptions">ShutdownException</a></code> - If the database is closed.</dd>
<dd><code><a href="../exceptions/ACDPException.html" title="class in acdp.exceptions">ACDPException</a></code> - If the database is read-only or if this method is
         invoked within a read zone.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the database is closed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="openReadZone()">
<h3>openReadZone</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="../ReadZone.html" title="interface in acdp">ReadZone</a></span>&nbsp;<span class="element-name">openReadZone</span>()
                            throws <span class="exceptions"><a href="../exceptions/ShutdownException.html" title="class in acdp.exceptions">ShutdownException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">See <a href="../Database.html#openReadZone()">Database.openReadZone()</a></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The read zone, never <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/ShutdownException.html" title="class in acdp.exceptions">ShutdownException</a></code> - If the synchronization manager is shut down.
         This exception never happens if the database is read-only.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the database is closed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createRO(java.nio.file.Path,acdp.design.ICipherFactory)">
<h3>createRO</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createRO</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;roDbFilePath,
 <a href="ICipherFactory.html" title="interface in acdp.design">ICipherFactory</a>&nbsp;cipherFactory)</span>
                    throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a>,
<a href="../exceptions/ShutdownException.html" title="class in acdp.exceptions">ShutdownException</a>,
<a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a>,
<a href="../exceptions/CryptoException.html" title="class in acdp.exceptions">CryptoException</a>,
<a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">See <a href="../Database.html#createRO(java.nio.file.Path,acdp.design.ICipherFactory)">Database.createRO(Path, ICipherFactory)</a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>roDbFilePath</code> - The path of the newly created RO database file.
         The value must be the path of a non-existing file.</dd>
<dd><code>cipherFactory</code> - The cipher factory or <code>null</code> if no encryption
         is required.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If this database is an RO database.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If <code>roDbFilePath</code> is <code>null</code>.</dd>
<dd><code><a href="../exceptions/ImplementationRestrictionException.html" title="class in acdp.exceptions">ImplementationRestrictionException</a></code> - If at least one of the tables
         of the WR database has more than <code>Integer.MAX_VALUE</code> rows
         <em>or</em> if the length of the byte representation of a stored
         column value of a table of the WR database exceeds <code>
         Integer.MAX_VALUE</code> <em>or</em> if at least one of the tables of
         the WR database has too many columns <em>or</em> if the number of
         row gaps in at least one of the tables of the WR database is
         greater than <code>Integer.MAX_VALUE</code>.</dd>
<dd><code><a href="../exceptions/ShutdownException.html" title="class in acdp.exceptions">ShutdownException</a></code> - If the database's file channel provider or the
         synchroniziation manager is shut down.
         A reason for this exception to happen is that the WR database is
         closed.</dd>
<dd><code><a href="../exceptions/CreationException.html" title="class in acdp.exceptions">CreationException</a></code> - If creating the RO crypto object fails or if
         computing the cipher challenge fails.
         This exception never happens if <code>cipherFactory</code> is <code>
         null</code>.</dd>
<dd><code><a href="../exceptions/CryptoException.html" title="class in acdp.exceptions">CryptoException</a></code> - If decrypting the byte representation of a stored
         column value of a table of the WR database fails.
         This exception never happens if the WR database does not apply
         encryption.</dd>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If the specified file already exists or if
         another I/O error occurs.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the database is closed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="zip(int,boolean,java.io.OutputStream)">
<h3>zip</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">zip</span><wbr><span class="parameters">(int&nbsp;level,
 boolean&nbsp;home,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a>&nbsp;out)</span>
               throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="../exceptions/ShutdownException.html" title="class in acdp.exceptions">ShutdownException</a>,
<a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">See <a href="../Database.html#zip(int,boolean,java.io.OutputStream)">Database.zip(int, boolean, OutputStream)</a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>level</code> - the compression level or -1 for the default compression
         level.
         Valid compression levels are greater than or equal to zero and
         less than or equal to nine.</dd>
<dd><code>home</code> - The information whether all the files should be unzipped
         into a single directory with a name equal to the name of the main
         directory.</dd>
<dd><code>out</code> - The output stream, not allowed to be <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - If <code>out</code> is <code>null</code>.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the compression level is invalid.</dd>
<dd><code><a href="../exceptions/ShutdownException.html" title="class in acdp.exceptions">ShutdownException</a></code> - If the database's file channel provider or the
         synchroniziation manager is shut down.
         A reason for this exception to happen is that the WR database is
         closed.</dd>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If an I/O error occurs.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the database is closed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="forceWrite()">
<h3>forceWrite</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">forceWrite</span>()
                      throws <span class="exceptions"><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">See <a href="../Database.html#forceWrite()">Database.forceWrite()</a></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - If an I/O error occurs.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the database is closed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="customClose()">
<h3>customClose</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">customClose</span>()</div>
<div class="block">This method is invoked by the <a href="#close()"><code>close()</code></a> method immediately before
 the database is closed, provided that the database is <a href="#open(java.nio.file.Path,int,boolean,acdp.design.ICipherFactory,int,acdp.design.CustomTable...)">open</a>.
 <p>
 This implementation does nothing.
 Subclasses may want to override this method to close, for example, an
 index file.</div>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()
                 throws <span class="exceptions"><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></span></div>
<div class="block">Closes this database and releases any system resources associated with
 it.
 <p>
 Note that closing the database is final: Reopening the database by
 invoking the <a href="#open(java.nio.file.Path,int,boolean,acdp.design.ICipherFactory,int,acdp.design.CustomTable...)"><code>open</code></a>
 method will fail.
 <p>
 If the database is closed then invoking this method has no effect.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close()" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/IOFailureException.html" title="class in acdp.exceptions">IOFailureException</a></code> - if an I/O error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()
                throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">See <a href="../Database.html#toString()">Database.toString()</a></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - If the database was never opened.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
