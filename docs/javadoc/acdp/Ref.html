<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (19) on Tue Jul 01 16:33:58 CEST 2025 -->
<title>Ref</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<meta name="dc.created" content="2025-07-01">
<meta name="description" content="declaration: package: acdp, interface: Ref">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Ref.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">acdp</a></div>
<h1 title="Interface Ref" class="title">Interface Ref</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">Ref</span><span class="extends-implements">
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">Defines a reference to a row in a <a href="Table.html" title="interface in acdp">table</a>.
 Given a reference, ACDP can access a row without the need for a search or
 a lookup in an index.
 <p>
 Since ACDP never relocates a row, a reference never gets invalid by ACDP's
 file space management.
 Moreover, even changing the structure of a table does not invalidate any
 existing references.
 Overall, references are <em>safe for a "disciplined" user even across
 session boundaries</em>.
 <p>
 For reasons of efficiency and due to the author's believe that it is easy
 for the disciplined user to ensure that a reference is used with no other
 table than the table actually housing the referenced row, a value of type
 <code>Ref</code> consists of a pointer to the referenced row only.
 The information to which table the referenced row belongs is not part of the
 value of the reference.
 As described below, applying a reference with a table that does not house
 the referenced row raises an exception only if the reference turns out to be
 <em>illegal</em>.
 <p>
 Furthermore, a disciplined user is expected to be aware of the fact that
 if some client deletes a row then any references to this row become
 <em>invalid</em>.
 Even an update of a referenced row may semantically invalidate the reference
 from the point of view of the reference holder.
 In a setting, where several users simultaneously delete and update rows,
 even a disciplined user may loose control over the validity of his or her
 references.
 At least, the user can be assured that references received within a
 <a href="Unit.html" title="interface in acdp">unit</a> or a <a href="ReadZone.html" title="interface in acdp">read zone</a> and exclusively
 used within that unit or read zone are not vulnerable in this regard.
 <p>
 Another reason for a reference getting invalid is the relocation
 of rows on the storage device caused by an externally invoked process which
 <em><a href="Table.html#compactFL()">compacts</a></em> the FL file space of the WR
 store associated with the dedicated table.
 (See section "Compacting the WR Store" in the description of the <code>
 Table</code> interface to learn about the FL file space of a WR store.)
 However, there is almost never a need for compacting the FL file space:
 One and perhaps the only one reason for compacting the FL file space might
 be to free the space occupied by many <em>row gaps</em> in a situation where
 there is no perspective that these row gaps may ever be reused by ACDP,
 simply because there is no need for inserting any new rows.
 (A table may contain <em>row gaps</em>, that are rows formerly inserted and
 later deleted.
 The associated file space of a row gap is at the disposition of the file
 space manager waiting for being reused.)
 To avoid references becoming invalid in the middle of a session due to
 compaction, simply do not compact the FL file space during a session.
 <p>
 Trivially, references are always valid, even across session boundaries, if
 the database is read-only.
 In a setting, where only a single user can delete and update a row within a
 session (all other sessions are blocked) the validity of references across
 session boundaries can easily be established by means of "organisational
 measures".
 For instance, references may be persisted between two sessions along with
 the database version.
 If each "changeset" (including a changeset as a result of compacting a table)
 gets its own database version then a change in the database version can be
 considered as a warning that some or all persisted references may be
 invalid.
 Of course, more sophisticated procedures are conceivable.
 <p>
 The use of an <em>illegal</em> reference lets ACDP throw an <a href="exceptions/IllegalReferenceException.html" title="class in acdp.exceptions"><code>IllegalReferenceException</code></a>.
 A reference is illegal if and only if one of the following two conditions
 is satisfied:
 
 <ul>
        <li>The reference points to a row that does not exist within the
        table.</li>
        <li>The reference points to a row gap.</li>
 </ul>
 <p>
 Of course, an illegal reference is invalid but an invalid reference is not
 necessarily illegal.
 Therefore, ACDP may not complain if it has to deal with an invalid reference.
 For example, consider the case where a reference gets invalid because another
 client deletes the referenced row.
 At that time the reference is not only invalid but illegal because the
 reference points to a row gap.
 Let's assume that later on ACDP reuses the file space of the row gap because
 the same or another client inserts some new rows.
 Since the row gap has disappeared the reference is no longer illegal but it
 remains invalid.
 <p>
 Let <code>r1</code> and <code>r2</code> be two references pointing both to rows of a
 particular table <code>T</code>.
 Both references reference the same row of <code>T</code> if and only if <code>
 r1.equals(r2)</code> returns <code>true</code>.
 <p>
 References can be put into hash based collections: If <code>r1.equals(r2)</code>
 returns <code>true</code> then <code>r1.hashCode() == r2.hashCode()</code>.
 <p>
 Without a doubt, using references is the most efficient way to access
 persistent data.
 You are therefore encouraged to use references whenever possible.
 Moreover, it may be worthwhile to think about changing the environment (for
 example reducing the degree of concurrency when modifying tables) in order
 to increase the lifetime of valid references.
 <p>
 There is no need for clients to implement this interface and to create
 references on their own.
 Deserializing a serialized reference is the only legal way to create a
 reference outside of ACDP.
 (A serialized reference consists of its serialized internal row index of
 type <code>long</code>.)</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Beat Hörmann</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#equals(java.lang.Object)" class="member-name-link">equals</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;o)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Compares the specified object with this reference for equality.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#hashCode()" class="member-name-link">hashCode</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the hash code value for this reference.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a string representation of this reference.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<div class="block">Returns a string representation of this reference.
 <p>
 A reference internally keeps an integer value greater than zero which is
 equal to the index of the referenced row within the array of rows of the
 referenced table.
 This method returns this index as a string.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>The string representation of this reference, never <code>null</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="equals(java.lang.Object)">
<h3>equals</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">equals</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;o)</span></div>
<div class="block">Compares the specified object with this reference for equality.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Parameters:</dt>
<dd><code>o</code> - Object to be compared for equality with this reference.</dd>
<dt>Returns:</dt>
<dd>The boolean value <code>true</code> if and only if the specified
         object is equal to this reference.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hashCode()">
<h3>hashCode</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">hashCode</span>()</div>
<div class="block">Returns the hash code value for this reference.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>The hash code value for this reference.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
